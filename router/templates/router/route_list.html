{% extends 'router/base.html' %} {% block content %}
{% comment %} <!-- /////////////////////////////////////////////////////////////////////////////////////////////////
                       START SECTION 6 - THE FAQ 
//////////////////////////////////////////////////////////////////////////////////////////////////////-->
<section id="faq" class="faq">
    <div class="container">
      <div class="row text-center">
        <h1 class="display-3 fw-bold text-uppercase">Shortened URLs</h1>
        <div class="heading-line"></div>
        <p class="lead">List of all the Links Shortened till date</p>
      </div>
      <!-- ACCORDION CONTENT  -->
      <div class="row mt-5">
        <div class="col-md-12">
          <div class="accordion" id="accordionExample">
            <!-- ACCORDION ITEM 1 -->
            <div class="accordion-item shadow mb-3">
              <h2 class="accordion-header" id="headingOne">
                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                  What are the main features?
                </button>
              </h2>
              <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne" data-bs-parent="#accordionExample">
                <div class="accordion-body">
                  <strong>This is the first item's accordion body.</strong> It is hidden by default, until the collapse plugin adds the appropriate classes that we use to style each element. These classes control the overall appearance, as well as the showing and hiding via CSS transitions. You can modify any of this with custom CSS or overriding our default variables. It's also worth noting that just about any HTML can go within the <code>.accordion-body</code>, though the transition does limit overflow.
                </div>
              </div>
            </div>
               <!-- ACCORDION ITEM 2 -->
            <div class="accordion-item shadow mb-3">
              <h2 class="accordion-header" id="headingTwo">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                  do i have to pay again after trial
                </button>
              </h2>
              <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#accordionExample">
                <div class="accordion-body">
                  <strong>This is the second item's accordion body.</strong> It is hidden by default, until the collapse plugin adds the appropriate classes that we use to style each element. These classes control the overall appearance, as well as the showing and hiding via CSS transitions. You can modify any of this with custom CSS or overriding our default variables. It's also worth noting that just about any HTML can go within the <code>.accordion-body</code>, though the transition does limit overflow.
                </div>
              </div>
            </div>
               <!-- ACCORDION ITEM 3 -->
            <div class="accordion-item shadow mb-3">
              <h2 class="accordion-header" id="headingThree">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
              How can I get started after trial?
                </button>
              </h2>
              <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#accordionExample">
                <div class="accordion-body">
                  <strong>This is the third item's accordion body.</strong> It is hidden by default, until the collapse plugin adds the appropriate classes that we use to style each element. These classes control the overall appearance, as well as the showing and hiding via CSS transitions. You can modify any of this with custom CSS or overriding our default variables. It's also worth noting that just about any HTML can go within the <code>.accordion-body</code>, though the transition does limit overflow.
                </div>
              </div>
            </div>
               <!-- ACCORDION ITEM 4 -->
            <div class="accordion-item shadow mb-3">
              <h2 class="accordion-header" id="headingFour">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
                  Can I be refunded if am not satisfied?
                </button>
              </h2>
              <div id="collapseFour" class="accordion-collapse collapse" aria-labelledby="headingFour" data-bs-parent="#accordionExample">
                <div class="accordion-body">
                  <strong>This is the third item's accordion body.</strong> It is hidden by default, until the collapse plugin adds the appropriate classes that we use to style each element. These classes control the overall appearance, as well as the showing and hiding via CSS transitions. You can modify any of this with custom CSS or overriding our default variables. It's also worth noting that just about any HTML can go within the <code>.accordion-body</code>, though the transition does limit overflow.
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section> {% endcomment %}
  
<div class="card rounded-0">
    <div class="card-body">
        <div class="container-fluid">
            <h2>List of all the Links Shortened till date:</h2>
            <hr>
            <div class="list-group mb-3" id="url-list">
                {% for url in urls %}
                    <div class="list-group-item list-group-item-action">
                        <div>
                            <label for="" class="control-label fw-bolder">Orginal Link:</label>
                            <div class="text-xs ps-2">
                                {{ url.original_url }}
                            </div>
                        </div>
                        <div>
                            <label for="" class="control-label fw-bolder">Shortened Link:</label>
                            <div class="0 w-100 d-flex shortened bg-white border ps-2">
                                <div class="col-auto flex-shrink-1 flex-grow-1 border-end px-2 py-2">
                                    <p class="m-0 text-truncate shortened-text">{{base_uri}}/{{ url.key }}</p>
                                </div>
                                <div class="col-auto px-2 py-2"><a href="{{base_uri}}/{{ url.key }}" class="text-reset text-decoration-none fw-bolder copy-to-clipboard">Copy</a></div>
                            </div>
                        </div>
                    </div>
                {% endfor %}
            </div>
            {% if is_paginated %}
            {% if page_obj.has_previous %}
                <a class="btn btn-primary btn-sm mb-4" href="?page=1">&laquo; First</a>
                <a class="btn btn-primary btn-sm mb-4" href="?page={{ page_obj.previous_page_number }}">Previous</a> 
            {% endif %} 
            {% for num in page_obj.paginator.page_range %} 
                {% if page_obj.number == num %}
                    <a href="?page={{ num }}" class="btn btn-info btn-sm mb-4">{{ num }}</a> 
                {% elif num > page_obj.number|add:'-3' and num < page_obj.number|add:'3' %} 
                <a class="btn btn-primary btn-sm mb-4" href="?page={{ num }}">{{ num }}</a>
                {% endif %} 
            {% endfor %} 
            {% if page_obj.has_next %}
                <a class="btn btn-primary btn-sm mb-4" href="?page={{ page_obj.next_page_number }}">Next</a>
                <a class="btn btn-primary btn-sm mb-4" href="?page={{ page_obj.paginator.num_pages }}">Last &raquo;</a> 
            {% endif %} 
        {% endif %}
        </div>
    </div>
</div>



    <script>
        var url_text;
        $(function() {
            $('.copy-to-clipboard').click(function(e) {
                e.preventDefault()
                var text = $(this).attr('href')
                navigator.clipboard.writeText(text).then(function() {
                    alert("Link copied to Clipboard!")
                }, function(err) {
                    alert("Link has failed to copy!")
                    console.error(err);
                });
            })
        })
    </script>

    {% endblock content %}